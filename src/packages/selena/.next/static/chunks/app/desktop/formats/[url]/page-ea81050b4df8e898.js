(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{2579:function(e,t,i){Promise.resolve().then(i.bind(i,7545))},7545:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return u}});var s=i(3827),n=i(5430),r=i(4735),l=i(4090),d=i(2944),a=i(7907),c=i(4748),o="1.5rem",h="1.20rem",x=".95rem";function u(e){let{params:t}=e;var i=decodeURIComponent(t.url),[u,m]=(0,l.useState)({height:"100%",opacity:"1",overflow:"hidden"}),[p,j]=(0,l.useState)({height:"0",opacity:"0",overflow:"hidden"}),[f,v]=(0,l.useState)(),g=(0,a.useRouter)(),[y,w]=(0,l.useState)(""),[T,S]=(0,l.useState)(""),[z,C]=(0,l.useState)((0,s.jsx)("div",{})),[N,b]=(0,l.useState)(!1),[D,E]=(0,l.useState)([]),[k,I]=(0,l.useState)([]),[R,G]=(0,l.useState)([]),[A,F]=(0,l.useState)([]),[O,_]=(0,l.useState)([]),[L,H]=(0,l.useState)(),[U,P]=(0,l.useState)(),[B,V]=(0,l.useState)((0,s.jsx)(n.GradientText,{animated:!0,deg:"-45",size:h,children:"Use Filter to Filter Formats"})),[M,J]=(0,l.useState)((0,s.jsxs)("div",{style:{height:"100%",width:"100%"},className:"cyx",children:[(0,s.jsx)(r.rF,{}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center"},children:[(0,s.jsx)(n.Text,{size:x,children:"Search for Apollo and Selene, while formats are being loaded,"}),(0,s.jsx)(r.FH,{})]})]}));return(0,l.useEffect)(()=>{if(void 0!=f&&(null==f?void 0:f.length)!=0){var e=f;e=(e=(e=(e=(e=e.filter(e=>0==O.length||O.includes(e.ext))).filter(e=>0==k.length||k.includes(e.spec.UIVID))).filter(e=>0==R.length||R.includes(String(e.spec.audioBitrate)))).filter(e=>0==A.length||A.includes(String(e.spec.fps)))).filter(e=>0==D.length||D.includes(e.media)),0==[...D,...k,...R,...A,...O].length?V((0,s.jsxs)(n.GradientText,{animated:!0,deg:"-45",size:h,children:["Try the"," ",(0,s.jsx)(n.GradientText,{animated:!0,deg:"45",size:o,children:"Filter"})," ","to enhance search experiance"]})):V((0,s.jsxs)(n.GradientText,{animated:!0,deg:"-45",size:h,children:["Found"," ",(0,s.jsx)(n.GradientText,{animated:!0,deg:"45",size:o,children:e.length})," ","formats"]})),P(e)}},[D,k,R,A,O]),(0,l.useEffect)(()=>{void 0!=U&&H((0,s.jsx)(n.FormatList,{title:y,url:i,formats:U,divHeight:"380px",minWidth:"280px",spacing:"0px"}))},[U]),(0,l.useEffect)(()=>{if(void 0!=f&&(null==f?void 0:f.length)!=0){var e,t,i,r,l,d,a,c,o,h,x,u,m,p,j;C((0,s.jsx)("div",{children:(0,s.jsxs)("div",{style:{margin:"20px 0 20px 20px"},children:[(0,s.jsx)(n.ResultCheckList,{changed:e=>{E(e)},children:(e=f.map(e=>e.media),t=Array.from(new Set(e)),i={},t.forEach(e=>{i[e]="a"==e?(0,s.jsx)(n.GradientText,{deg:"-45",animated:!0,size:"1rem",children:"\uD83C\uDFB5"}):(0,s.jsx)(n.GradientText,{deg:"-45",animated:!0,size:"1rem",children:"\uD83C\uDFAC"})}),i)}),(0,s.jsx)(n.ResultCheckList,{changed:e=>{I(e)},children:(r=f.map(e=>e.spec.UIVID),l=Array.from(new Set(r)),d={},l.forEach(e=>{d[e]=e}),d)}),(0,s.jsx)(n.ResultCheckList,{changed:e=>{_(e)},children:(a=f.map(e=>e.ext),c=Array.from(new Set(a)),o={},c.forEach(e=>{o[e]=e}),o)}),(0,s.jsx)(n.ResultCheckList,{changed:e=>{F(e)},children:(h=(h=f.map(e=>e.spec.fps)).filter(e=>void 0!=e),x=Array.from(new Set(h)),u={},x.forEach(e=>{u[e]=e+"fps"}),u)}),(0,s.jsx)(n.ResultCheckList,{changed:e=>{G(e)},children:(m=f.map(e=>e.spec.audioBitrate),p=Array.from(new Set(m)),j={},p.forEach(e=>{j[e]=e+"kbps"}),j)}),(0,s.jsx)("div",{style:{margin:"80px 0 40px 20px"},children:B}),(0,s.jsx)("div",{style:{margin:"20px 0 0 0"},children:L})]})}))}},[f,L]),N||(b(!0),fetch(c.Z.LOAD_FORMATS_PATH,{method:"POST",headers:{"Content-Type":"application/json",identity:"selena"},mode:"cors",body:JSON.stringify({greeter:"selene",url:i})}).then(async e=>{if(200!=e.status)return Promise.reject("CONNECTION_ERR");var t=await e.json();if(200==e.status&&"NIGHT"==t.condition)return Promise.reject(t);var i=t.data;i.available=i.available.map(e=>({...e,spec:{...e.spec,UIVID:(0,d.Bu)(e.spec.width)}})),v(i.available),w(i.title),S(i.available[0].spec.approxDurationMs),m({...u,opacity:"1"}),setTimeout(()=>{m({...u,opacity:"0",height:"0"}),setTimeout(()=>{j({...p,opacity:"1",height:"100%"})},2e3)},1e3)}).catch(e=>{"CONNECTION_ERR"==e?(J((0,s.jsx)("div",{style:{height:"100%",width:"100%"},className:"cyx",children:(0,s.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center"},children:(0,s.jsx)(n.Text,{size:h,children:"It seems Selenana could'nt connect Apollo due to Network Issue, Retrying in 13s \xa0"})})})),setTimeout(()=>{window.location.reload()},2e4)):J((0,s.jsx)("div",{style:{height:"100%",width:"100%"},className:"cyx",children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center"},children:[" ",(0,s.jsx)("div",{className:"webdownload",onClick:()=>g.push("/desktop"),children:(0,s.jsxs)("button",{children:[(0,s.jsx)(n.GradientText,{style:{cursor:"pointer"},size:"1.75rem",animated:!0,children:"\uD83C\uDFE0"})," "]})}),"\xa0\xa0\xa0",(0,s.jsx)("div",{className:"webdownload",onClick:()=>window.location.reload(),children:(0,s.jsxs)("button",{children:[(0,s.jsx)(n.GradientText,{style:{cursor:"pointer"},size:"2rem",animated:!0,children:"⟳"})," "]})}),"\xa0\xa0\xa0",(0,s.jsxs)(n.Text,{size:x,style:{lineHeight:"1.5"},children:["An Error has occured"," ",(0,s.jsx)("span",{children:void 0!=e.data&&void 0!=e.data.error&&-3001==e.data.error.errno?(0,s.jsx)("div",{children:(0,s.jsx)(n.GradientText,{size:h,animated:!0,children:"Server has fallen to a network issue"})}):void 0!=e.data?(0,s.jsx)("div",{children:(0,s.jsx)(n.GradientText,{size:x,animated:!0,children:"Invalid url provided"})}):(console.log("keep in note for new errors",e),(0,s.jsx)("div",{children:(0,s.jsx)(n.GradientText,{size:h,animated:!0,children:"Unable to connect with Apollo (CC)."})}))})]})]})}))})),(0,s.jsxs)("div",{style:{width:"100%"},children:[(0,s.jsx)("div",{style:{width:"100%",transitionDuration:"250ms !important",...u},className:"cxy",children:(0,s.jsx)("div",{className:"cyx",children:M})}),(0,s.jsxs)("div",{style:{width:"100%",...p},children:[(0,s.jsxs)("div",{style:{margin:"0px 10px 0px 10px ",padding:"20px ",lineHeight:"1.25"},children:[(0,s.jsx)(n.GradientText,{animated:!0,size:o,children:y}),(0,s.jsx)("div",{style:{margin:"40px 0px 0 0"},children:(0,s.jsxs)(n.Text,{size:x,children:["⏱ Duration appr \xa0",(0,s.jsxs)(n.Text,{size:h,children:[" ",T," ms"]})]})}),(0,s.jsxs)("div",{style:{margin:"5px 0 0 0",display:"flex",flexDirection:"row"},children:[(0,s.jsx)("div",{style:{margin:"0 40px 0 0"},children:(0,s.jsxs)(n.Text,{size:x,children:[(0,s.jsxs)(n.Text,{size:h,children:[" ",null==f?void 0:f.length]})," Formats Generated"]})}),(0,s.jsx)("div",{style:{margin:"0 40px 0 0"},children:(0,s.jsxs)(n.Text,{size:x,children:[(0,s.jsxs)(n.Text,{size:h,children:[" ",null==f?void 0:f.filter(e=>{let{ext:t}=e;return"mp4"==t}).length]})," ","mp4 \xa0",(0,s.jsxs)(n.Text,{size:h,children:[" ",null==f?void 0:f.filter(e=>{let{ext:t}=e;return"webm"==t}).length]})," ","webm \xa0",(0,s.jsxs)(n.Text,{size:h,children:[" ",null==f?void 0:f.filter(e=>{let{ext:t}=e;return"webm"!=t&&"mp4"!=t}).length]})," ","others"]})}),(0,s.jsx)("div",{style:{margin:"0 0px 0 0"},children:(0,s.jsxs)(n.Text,{size:x,children:[(0,s.jsxs)(n.Text,{size:h,children:[" ",null==f?void 0:f.filter(e=>{let{media:t}=e;return"a"==t}).length]})," ","audio \xa0",(0,s.jsxs)(n.Text,{size:h,children:[" ",null==f?void 0:f.filter(e=>{let{media:t}=e;return"v"==t}).length]})," ","video"]})})]})]}),(0,s.jsx)("div",{style:{width:"100%",margin:"0 0 0 0"},children:z})]})]})}},7907:function(e,t,i){"use strict";var s=i(5313);i.o(s,"useRouter")&&i.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[552,971,69,744],function(){return e(e.s=2579)}),_N_E=e.O()}]);